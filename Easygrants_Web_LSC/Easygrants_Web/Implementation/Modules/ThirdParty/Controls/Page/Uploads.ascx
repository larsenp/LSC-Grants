<%@ Control Language="vb" AutoEventWireup="true" Inherits="Implementation.Modules.ThirdParty.Controls.Page.cThirdPartyUploads" TargetSchema="http://schemas.microsoft.com/intellisense/ie5" CodeBehind="Uploads.ascx.vb" %>
<%@ Register Tagprefix='Core' Namespace='Core.Web.SvrCtls' Assembly='Core' %>
<%@ Register Tagprefix='Core' tagname='NewWindowOpener' src='../../../../../Core/Controls/Base/NewWindowOpener.ascx' %>
<Core:NewWindowOpener id='ctlNewWindowOpener' runat='server'/>

<br/>
<Font color='red'><span id='spnValidationSummary' runat='server' /></Font>
<br/>
<table border='0' cellspacing='0' cellpadding='2' width='100%' runat='server' ID="TblInstructions">
	<tr>
		<td class="SeparatorHdg"><b>Instructions</b></td>
	</tr>
</table>
<br>
<table border='0' cellspacing='0' cellpadding='2' width='100%' runat='server'>
	<tr>
		<td><span id='spnPageContent' runat='server' /></td>
	</tr>
	</table>
	<br>
	<table border='0' cellspacing='0' cellpadding='2' width='100%' runat='server'>
	<tr>
		<td class="SeparatorHdg" colspan='4'><b>Application Information</b></td>
	</tr>
	<tr>
		<td  colspan='4'>&nbsp;</td>
	</tr>
	<tr>
			<td width='10%'><B>Applicant</B></td>
			<td width='25%'><span id='spnApplicantName' runat='server'/></td>
			<td width='10%'><b>Funding Opportunity</b></td>
			<td><span id='spnFundingOpportunity' runat='server'/></td>
	</tr>
	<tr><td>&nbsp;</td></tr>
	<tr id='TrViewApp' runat='server'>
		<td  colspan='4' align='left'><span id='spnViewApp' runat='server'/></td>
	</tr>
	
</table>


<%--<asp:CustomValidator id='valUploads' runat='server' OnServerValidate='ValidateUploads'  EnableClientScript='False'
				                ErrorMessage='Review Letter was not uploaded or file conversion was not successful.  Click the View button above to view any file conversion problems.' Display='None'/>	--%>

<table border='0' cellspacing='0' cellpadding='0' width='100%' runat='server' ID="TblUploads">
	<tr>
		<td><Core:cUserCtlLoader ID="CUserCtlLoader2" CtlID='ctlTaskUploads' Src='Easygrants/Controls/PageSection/TaskUploads.ascx' Properties='HideInstructions=False'
				runat='server' /> 
		</td>
	</tr>
</table>


<%--<Core:cUserCtlLoader ID="CUserCtlLoader1" CtlID='ctlVirtualFile' 
	Src='Core/Controls/Base/ValidationSummary.ascx'
	runat='server'/>--%>

<table border='0' cellspacing='0' cellpadding='0' width='100%' runat='server' ID="TblSubmission">	
	<tr><td>&nbsp;</td></tr>
	<tr><td class="SeparatorHdg">Submission</td></tr>
	<tr><td>&nbsp;</td></tr>
	<tr align='center'>
		<td><span id='spnSubmitButton' runat='server'/>&nbsp;&nbsp;&nbsp;
			<span id='spnClose' runat='server'/>
		</td>
	</tr>
</table>

<table border='0' cellspacing='0' cellpadding='0' width='100%' runat='server' ID="TblPostSubPDF">	
	<tr><td>&nbsp;</td></tr>
	<tr><td class="SeparatorHdg">PDF</td></tr>
	<tr><td>&nbsp;</td></tr>
	<tr align='center'>
		<td align='left'><span id='spnPostSubViewApp' runat='server'/></td>
	</tr>
	<tr><td>&nbsp;</td></tr>
	<tr align='left'>
		<td>Note: To view this or any PDF file generated by this system, use one of the supported versions of <a href='http://www.adobe.com/products/acrobat/readstep2.html' target='_blank'>Adobe Reader</a>. 
		In addition, you must also set any pop-up blocker programs to allow pop-up windows. <span runat='server' id='spnSystemRequirements' /> for information on browser
		 compatibility and a list of supported versions of Adobe Reader. </td>
	</tr>
	<tr align='center'>
		<td>
			<span id='spnPostClose' runat='server'/>
		</td>
	</tr>
</table>


<!-- END USER MODIFIABLE CONTENT AREA -->

<span id='spnConfigXML' visible='false' runat='server'>
	<ModuleSection>
		<PageContent />
		<DataObject Key='WfTaskAssignment' DataObjectDefinitionKey='WfTaskAssignment' Updatable='False'>
			<Filters>
				<Argument Type='ModuleUser' TypeKey='WfTaskAssignmentID' PropertyKey='WfTaskAssignmentID' Value=''/>
			</Filters>
			<DisplayProperties>
				<DisplayProperty PropertyKey='GranteeProject.WfProject.WfCompetition.CompetitionDisplayName'>
					<Control ID='spnFundingOpportunity' Type='HtmlGenericControl'/>
				</DisplayProperty>
				<DisplayProperty PropertyKey=''>
					<Control ID='ctlSystemRequirements' Container='spnSystemRequirements' Type='cLink' Caption=' Click here'>
						<Action PostBack='False' Target='_blank' URL='../../../Implementation/PDF/SystemRequirements.html' />
					</Control>
				</DisplayProperty>
				<DisplayProperty PropertyKey=''>
					<Control ID='btnSubmit'
						Container='spnSubmitButton'
						Type='cButton'
						Image='Submit'>
						<Action
							PostBack='True'
							Object='DataPresenter'
							Method='SubmissionContent_Submit'/>
					</Control>	
				</DisplayProperty>
				<DisplayProperty PropertyKey=''>
					<Control ID='btnPostSubViewApp'
						Type='cLink'
						Container='spnPostSubViewApp'
						Caption='View PDF'>
						<Action ID='View' Target='_blank' URL='../../../Core/Controls/Base/pgReportOutputReader.aspx' >
						</Action>
					</Control>								
					
					<%--<Control ID='btnPostSubViewApp'
						Type='cButton'
						Container='spnPostSubViewApp'
						Caption='View PDF'>
						<Action
							PostBack='True'
							Object='DataPresenter'
							Method='ViewAppPDF'>
							<Parameters>
								<Argument Type='DataObjectCollection' TypeKey='WfTaskAssignment' DataObjectPropertyKey='WfTaskAssignmentID' AttributeName='' BaseValue=''/>															
								<Argument Type='DataObjectCollection' TypeKey='WfTaskAssignment' DataObjectPropertyKey='WfProjectTask.AppPDFReportKeyLink.FinalPDFReportKeyLink.ReportOutputDefinitionID' AttributeName='' BaseValue=''/>															
							</Parameters>
						</Action>
					</Control>	--%>									
					
				</DisplayProperty>	
			</DisplayProperties>	
		</DataObject>
		<DataObject Key='PersonRelationship' DataObjectDefinitionKey='PersonRelationship' Updatable='False'>
			<Filters>
				<Argument Type='DataObjectCollection' TypeKey='WfTaskAssignment' DataObjectPropertyKey='WfTaskAssignmentPersonRelationship.PersonRelationshipID' PropertyKey='PersonRelationshipID'/>				
			</Filters>
		</DataObject>	
		<DataObject Key='ApplicationWfTaskAssignment' DataObjectDefinitionKey='WfTaskAssignment' Updatable='False'>
			<Filters>				
				<Argument Type='DataObjectCollection' TypeKey='PersonRelationship' DataObjectPropertyKey='TaskID' PropertyKey='WfTaskID'/>				
				<Argument Type='DataObjectCollection' TypeKey='PersonRelationship' DataObjectPropertyKey='GranteeProjectID' PropertyKey='GranteeProjectID'/>				
			</Filters>
			<DisplayProperties>
				<DisplayProperty PropertyKey='GranteeProject.PrimaryPerson.LastNameFirstNameMiddleName'>
					<Control ID='spnApplicantName' Type='HtmlGenericControl'/>
				</DisplayProperty>
				<DisplayProperty PropertyKey=''>
					<Control ID='btnView'
						Type='cLink'
						Container='spnViewApp'
						Caption='View Proposal PDF'>
						<Action ID='View' Target='_blank' URL='../../../Core/Controls/Base/pgReportOutputReader.aspx' >
						</Action>
					</Control>			
				</DisplayProperty>											
				
				<%--<DisplayProperty PropertyKey=''>
					<Control ID='btnView'
						Type='cButton'
						Container='spnViewApp'
						Caption='View Proposal PDF'>
						<Action
							PostBack='True'
							Object='DataPresenter'
							Method='ViewAppPDF'>
							<Parameters>
								<Argument Type='DataObjectCollection' TypeKey='ApplicationWfTaskAssignment' DataObjectPropertyKey='WfTaskAssignmentID' AttributeName='' BaseValue=''/>															
								<Argument Type='DataObjectCollection' TypeKey='ApplicationWfTaskAssignment' DataObjectPropertyKey='WfProjectTask.AppPDFReportKeyLink.FinalPDFReportKeyLink.ReportOutputDefinitionID' AttributeName='' BaseValue=''/>															
							</Parameters>
						</Action>
					</Control>										
				</DisplayProperty>--%>					
				
			</DisplayProperties>
		</DataObject>	
		<DataObject Key='SubmittedFile' DataObjectDefinitionKey='SubmittedFile' Updatable='False' >
			<Filters>
				<Argument Type='ModuleUser' TypeKey='WfTaskAssignmentID' PropertyKey='EntityID' Value='' />
				<Argument Type='Data' TypeKey='EntityDataObjectKey' PropertyKey='EntityDataObjectKey' Value='WfTaskAssignment' />
				<Argument Type='Data' TypeKey='ConversionStatus' PropertyKey='ConversionStatus' Value='-1' />
				<Argument Type='Data' TypeKey='' PropertyKey='IsRequired' Value='True' >
					<RelatedProperty PropertyKey='TaskUploadType' />
				</Argument>				
			</Filters>
		</DataObject>	
		<DataObject Key='Base' DataObjectDefinitionKey=''>
			<DisplayProperties>		
				<DisplayProperty PropertyKey=''>
					<Control ID='btnClose' Container='spnClose' Type='cButton' Image='Close'>
						<Action PostBack='True' Object='WebSession' Method='RedirectToModule'>
							<Parameters>
								<Argument Value='Home' />
								<Argument Value='HomeModuleConfig' />
								<Argument Value='Home' />
							</Parameters>
						</Action>
					</Control>
				</DisplayProperty>		
				<DisplayProperty PropertyKey=''>
					<Control ID='btnPostClose' Container='spnPostClose' Type='cButton' Image='Close'>
						<Action PostBack='True' Object='WebSession' Method='RedirectToModule'>
							<Parameters>
								<Argument Value='Home' />
								<Argument Value='HomeModuleConfig' />
								<Argument Value='Home' />
							</Parameters>
						</Action>
					</Control>
				</DisplayProperty>						
			</DisplayProperties>
		</DataObject>
	</ModuleSection>
</span>
